<div class="d-flex align-content-start flex-wrap bd-highlight mb-3" id="stage" dnd-list="vm.lists">
    <div class="card w-25 align-self-start m-1" ng-repeat="list in vm.lists track by $index" class="list p-2" dnd-dragstart="vm.lists.splice($index, 1)"
        dnd-effect-allowed="copy" dnd-draggable="list" dnd-effect-allowed="move">

        <div class="card-block pb-1">
            <input class="list-name card-title mt-2" ng-model="list.name" />
            <button type="button" class="btn-sm btn btn-link float-right remove-card-list" 
            ng-click="vm.deleteCard($index)">remove</button>
        </div>

        <div ng-init='addCard.is=false' class="card-block" ng-show="addCard.is==true">
            <div class="form-group">
                <label for="exampleTextarea">New task</label>
                <textarea class="form-control mb-2" id="exampleTextarea" ng-model='addCard.new'>
                    {{addCard.new}}
                </textarea>

                <button type="button" class=" btn-sm btn btn-success card-link add-ticket" ng-click="vm.addCard(addCard.new); addCard.is=false; addCard.i=null;">add</button>
                <button type="button" class=" btn-sm btn btn-outline-secondary card-link add-ticket" ng-click="addCard.i=''; addCard.is=false; addCard.new='';"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>&nbsp;</button>

            </div>
        </div> 

        <ul class="list-group list-group-flush">
            <li ng-repeat="ticket in list.tickets track by $index" class="ticket list-group-item">
                {{ticket.title}}
            </li>
        </ul>
        <div class="card-block">
            <button type="button" class=" btn-sm btn btn-outline-secondary card-link add-ticket" ng-click="vm.openModal(list,$index)">edit</button>
            <button type="button" class=" btn-sm btn btn-outline-secondary card-link add-ticket" ng-click="addCard.i=$index; addCard.is=true; addCard.new='';">add new</button>
        </div>
    </div>
</div>
<div class="row p-3">
    <button type="button" class="btn btn-outline-primary" ng-click="vm.openModal()">Add Ticket</button>
</div>